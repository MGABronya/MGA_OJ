,index,languageName,submissionId,submitTime,userName,statusMessage,code
0,C,C,54841621,2022-11-18 20:17:40,Oinng,编译错误,"{""SPECIAL_TM_FH_MEMO_JSON_TAG"":""SPECIAL_TM_FH_MEMO_JSON_TAG"",""stderr"":""main.c:1:10: fatal error: 'bits/stdc++.h' file not found\n#include <bits/stdc++.h>\n         ^~~~~~~~~~~~~~~\n1 error generated.""}

#include <bits/stdc++.h>

using namespace std;

typedef pair<int, int> PII;
const int N = 1010;

char g[N][N];
int d[N][N];
int dx[4] = {1,-1,0,0}, dy[4] = {0,0,1,-1};
int n, m, u;
int r1, r2;
int x1, x2, y1, y2;
int dist;

void bfs(int x, int y)
{
    queue <PII> q;
    q.push({x,y});
    d[x][y] = 0;
    while(q.size())
    {
        PII t = q.front();
        q.pop();
        
        for(int i = 0; i < 4; i ++ )
        {
            int x1 = t.first + dx[i], y1 = t.second + dy[i];
            if(x1 > 0 && x1 <= n && y1 > 0 && y1 <= m && g[x1][y1] != '*' && d[x1][y1] == 0)
            {
                d[x1][y1] = d[t.first][t.second] + 1;
                q.push({x1,y1});
            }
        }
    }
    
}

int main()
{
    cin >> n >> m;
    cin >> r1 >> r2;
    for(int i = 1; i <= n; i ++ )
        for(int j = 1; j <= m; j ++ )
        {
            cin >> g[i][j];
            if(g[i][j] == 'M')    x1 = i, y1 = j;
            else if(g[i][j] == 'P')    x2 = i, y2 = j;
        }
    dist = r1 + r2;
    u = 0;
    bfs(x1,y1);
    if(d[x2][y2] > dist)    cout << ""-1"";
    else if(d[x2][y2] <= dist)    cout << d[x2][y2];
} "
1,C,C,54843488,2022-11-18 20:27:59,牛客456490503号,编译错误,"{""SPECIAL_TM_FH_MEMO_JSON_TAG"":""SPECIAL_TM_FH_MEMO_JSON_TAG"",""stderr"":""main.c:7:14: error: array has incomplete element type 'int []'\n    int i,j,s[][];\n             ^\n1 error generated.""}

#include <stdio.h>
int main()
{
    int n,m,r1,r2;
    scanf(""%d%d\n"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    int i,j,s[][];
    s[5][2]='P';
    s[3][2]='M';
    for(i=0;i<=n;i++){
        for(j=0;j<=m;j++){
            if(s[i][j]=='\n')
            s[i][j]='.';
            }
     }   
    return 0;
}"
2,C,C,54847735,2022-11-18 20:53:27,xjt_,编译错误,"{""SPECIAL_TM_FH_MEMO_JSON_TAG"":""SPECIAL_TM_FH_MEMO_JSON_TAG"",""stderr"":""main.c:2:9: fatal error: 'cstring' file not found\n#include<cstring>\n        ^~~~~~~~~\n1 error generated.""}

#include<stdio.h>
#include<cstring>
#include<queue>
#include<math.h>
using namespace std;
typedef pair<int,int> pll;
const int N=1e3+3;
int xp,yp,xm,ym,n,m;
bool incirl(int x1,int y1,int x2,int y2,int r) {
	if(abs(x1-x2)+abs(y1-y2)<=r) return 1;
	return 0;
}
char s[N][N];
int stx[N],sty[N],l;
bool f[N][N];
int dis1[N][N],dis2[N][N];
void spfa(int x,int y,int (*dis)[N]){
	queue <pll> q;
	while(!q.empty()) q.pop();
	dis[x][y]=0;
	q.push({x,y});
	while(!q.empty()){
		x=q.front().first;
		y=q.front().second;
		q.pop();
		f[x][y]=1;
		if(x+1<n&&s[x+1][y]!='*'&&(!f[x+1][y])){
			dis[x+1][y]=dis[x][y]+1;
			q.push({x+1,y});
		}
		if(x-1>=0&&s[x-1][y]!='*'&&(!f[x-1][y])){
			dis[x-1][y]=dis[x][y]+1;
			q.push({x-1,y});
		}
		if(y+1<m&&s[x][y+1]!='*'&&(!f[x][y+1])){
			dis[x][y+1]=dis[x][y]+1;
			q.push({x,y+1});
		}
		if(y-1>=0&&s[x][y-1]!='*'&&(!f[x][y-1])){
			dis[x][y-1]=dis[x][y]+1;
			q.push({x,y-1});
		}
	}
}
int main() {
	int r1,r2;
	scanf(""%d%d"",&n,&m);
	scanf(""%d%d"",&r1,&r2);
	for(int i=0; i<n; i++) {
		scanf(""%s"",&s[i]);
	}
	for(int i=0; i<n; i++) {
		for(int j=0; j<m; j++) {
			if(s[i][j]=='M') {
				xm=i,ym=j;
			}
			if(s[i][j]=='P') {
				xp=i,yp=j;
			}
		}
	}

	for(int i=-r2,j=0; i<=r2; i++) {
		j=r2-abs(i);
		int ix=xm+i,iy=ym+j;
		if(ix>=0&&iy>=0&&ix<n&&iy<m&&s[ix][iy]!='*'&&incirl(ix,iy,xp,yp,r1)) {
			stx[l]=ix;
			sty[l++]=iy;
		}
		if(j!=0) {
			j=abs(i)-r2;
			iy=ym+j;
			if(ix>=0&&iy>=0&&ix<n&&iy<m&&s[ix][iy]!='*'&&incirl(ix,iy,xp,yp,r1)) {
				stx[l]=ix;
				sty[l++]=iy;
			}
		}
	}
	memset(dis1,0x3f,sizeof(dis1));
	memset(dis2,0x3f,sizeof(dis2));
	int mn=dis1[0][0],mx=mn;
	spfa(xp,yp,dis1);
	memset(f,0,sizeof(f));
	spfa(xm,ym,dis2);
	for(int i=0;i<l;i++){
		mn=min(dis1[stx[i]][sty[i]]+dis2[stx[i]][sty[i]],mn);
	}
	if(mn==mx) printf(""-1\n"");
	else printf(""%d\n"",mn);
	return 0;
}
"
3,C,C,54851027,2022-11-18 21:14:11,牛客169161075号,编译错误,"{""SPECIAL_TM_FH_MEMO_JSON_TAG"":""SPECIAL_TM_FH_MEMO_JSON_TAG"",""stderr"":""main.c:5:19: error: expected ';' after top level declarator\nchar a[MAXSIZE][M]\n                  ^\n                  ;\nmain.c:19:9: warning: implicitly declaring library function 'abs' with type 'int (int)' [-Wimplicit-function-declaration]\n    if((abs(px-py)+abs(mx-my)>r1+r2)printf(\""%d\"",-1);\n        ^\nmain.c:19:9: note: include the header <stdlib.h> or explicitly provide a declaration for 'abs'\nmain.c:19:37: error: expected ')'\n    if((abs(px-py)+abs(mx-my)>r1+r2)printf(\""%d\"",-1);\n                                    ^\nmain.c:19:7: note: to match this '('\n    if((abs(px-py)+abs(mx-my)>r1+r2)printf(\""%d\"",-1);\n      ^\nmain.c:19:52: warning: if statement has empty body [-Wempty-body]\n    if((abs(px-py)+abs(mx-my)>r1+r2)printf(\""%d\"",-1);\n                                                   ^\nmain.c:19:52: note: put the semicolon on a separate line to silence this warning\n2 warnings and 2 errors generated.""}

#include<stdio.h>
#include<math.h>
#define MAXSIZE 1000000
#define M 1010
char a[MAXSIZE][M]
int main()
{
    long long n;
    int m,r1,r2;
    int px,py,mx,my;
    scanf(""%lld%d%d%d"",&n,&m,&r1,&r2);
    for(long long i=1;i<=n;i++)
        for(int j=1;j<=m;j++)
        {
            scanf(""%c"",&a[i][j]);
            if(a[i][j]=='P'){px=i;py=j;}
            else if(a[i][j]=='M'){mx=i;my=j;}
        }
    if((abs(px-py)+abs(mx-my)>r1+r2)printf(""%d"",-1);
    return 0;
}"
4,C,C(gcc 7.5.0),54854467,2022-11-18 21:45:23,lsl666,答案错误,"#include<stdio.h>
int b[1001][1001][3],n,m,tep1=0,tep2=0,x,y,x0,y0,i,j,x1,y1,x2,y2,r1,r2,hh,tt,q=0,w=0,f[1000000][2],d[4][2]={{-1,0},{0,-1},{1,0},{0,1}};
char a[1001][1001];
int lsl(int xx,int yy)
{
    if(xx+d[i-1][0]<=0||xx+d[i-1][0]>n) return 0;
    else if(yy+d[i-1][1]<=0||yy+d[i-1][1]>m) return 0;
    else if(b[xx+d[i-1][0]][yy+d[i-1][1]][0]!=0) return 0;
    else if(a[xx+d[i-1][0]][yy+d[i-1][1]]=='*') return 0;
    else if(abs(xx+d[i-1][0]-x1)+abs(yy+d[i-1][1]-y1)>r1) return 0;
    else return 1;
}
int lsl2(int xx,int yy)
{
    if(xx+d[i-1][0]<=0||xx+d[i-1][0]>n) return 0;
    else if(yy+d[i-1][1]<=0||yy+d[i-1][1]>m) return 0;
    else if(b[xx+d[i-1][0]][yy+d[i-1][1]][2]!=0) return 0;
    else if(a[xx+d[i-1][0]][yy+d[i-1][1]]=='*') return 0;
    else return 1;
}
int main()
{
    
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    getchar();
    for(i=1;i<=n;i++)
    {
        for(j=1;j<=m;j++)
        {
            scanf(""%c"",&a[i][j]);
            if(a[i][j]=='M') x2=i,y2=j;
            if(a[i][j]=='P') x1=i,y1=j;
        }getchar();
    }
    x0=x2-r2,x=x2+r2,y0=y2-r2,y=y2+r2;
    if(x2-r2<1) x0=1;
    if(x2+r2>n) x=n;
    if(y2-r2<1) y0=1;
    if(y2+r2>m) y=m;
    for(i=x0;i<=x;i++)
    {
        for(j=y0;j<=y;j++)
        {
            if(abs(i-x2)+abs(j-y2)<=r2) b[i][j][1]=1;
        }
    }
    hh=1,tt=1,f[hh][0]=x1,f[hh][1]=y1,b[f[hh][0]][f[hh][1]][0]=1;
    while(hh<=tt)
    {
        if(b[f[hh][0]][f[hh][1]][1]==1) 
        {
            tep1=b[f[hh][0]][f[hh][1]][0]-1,q=1,x1=f[hh][0],y1=f[hh][1];
            break;
        }
        for(i=1;i<=4;i++)
        {
            if(lsl(f[hh][0],f[hh][1]))
            {
                b[f[hh][0]+d[i-1][0]][f[hh][1]+d[i-1][1]][0]=b[f[hh][0]][f[hh][1]][0]+1,tt++,f[tt][0]=f[hh][0]+d[i-1][0],f[tt][1]=f[hh][1]+d[i-1][1];
            }
        }hh++;
    }
    if(q==0) printf(""-1"");
    else
    {
        hh=1,tt=1,f[hh][0]=x2,f[hh][1]=y2,b[f[hh][0]][f[hh][1]][2]=1;
    while(hh<=tt)
    {
        if(f[hh][0]==x1&&f[hh][1]==y1) 
        {
            tep2=b[f[hh][0]][f[hh][1]][2]-1,w=1;
            break;
        }
        for(i=1;i<=4;i++)
        {
            if(lsl2(f[hh][0],f[hh][1]))
            {
                b[f[hh][0]+d[i-1][0]][f[hh][1]+d[i-1][1]][2]=b[f[hh][0]][f[hh][1]][2]+1,tt++,f[tt][0]=f[hh][0]+d[i-1][0],f[tt][1]=f[hh][1]+d[i-1][1];
            }
        }hh++;
    }
        printf(""%d"",tep1+tep2);
    }
}"
5,C,C(gcc 7.5.0),54854598,2022-11-18 21:46:42,lsl666,答案错误,"#include<stdio.h>
int b[1001][1001][3],n,m,tep1=0,tep2=0,x,y,x0,y0,i,j,x1,y1,x2,y2,r1,r2,hh,tt,q=0,w=0,f[1000000][2],d[4][2]={{-1,0},{0,-1},{1,0},{0,1}};
char a[1001][1001];
int lsl(int xx,int yy)
{
    if(xx+d[i-1][0]<=0||xx+d[i-1][0]>n) return 0;
    else if(yy+d[i-1][1]<=0||yy+d[i-1][1]>m) return 0;
    else if(b[xx+d[i-1][0]][yy+d[i-1][1]][0]!=0) return 0;
    else if(a[xx+d[i-1][0]][yy+d[i-1][1]]=='*') return 0;
    else if(abs(xx+d[i-1][0]-x1)+abs(yy+d[i-1][1]-y1)>r1) return 0;
    else return 1;
}
int lsl2(int xx,int yy)
{
    if(xx+d[i-1][0]<=0||xx+d[i-1][0]>n) return 0;
    else if(yy+d[i-1][1]<=0||yy+d[i-1][1]>m) return 0;
    else if(b[xx+d[i-1][0]][yy+d[i-1][1]][2]!=0) return 0;
    else if(a[xx+d[i-1][0]][yy+d[i-1][1]]=='*') return 0;
    else return 1;
}
int main()
{
    
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    getchar();
    for(i=1;i<=n;i++)
    {
        for(j=1;j<=m;j++)
        {
            scanf(""%c"",&a[i][j]);
            if(a[i][j]=='M') x2=i,y2=j;
            if(a[i][j]=='P') x1=i,y1=j;
        }getchar();
    }
    x0=x2-r2,x=x2+r2,y0=y2-r2,y=y2+r2;
    if(x2-r2<1) x0=1;
    if(x2+r2>n) x=n;
    if(y2-r2<1) y0=1;
    if(y2+r2>m) y=m;
    for(i=x0;i<=x;i++)
    {
        for(j=y0;j<=y;j++)
        {
            if(abs(i-x2)+abs(j-y2)<=r2) b[i][j][1]=1;
        }
    }
    hh=1,tt=1,f[hh][0]=x1,f[hh][1]=y1,b[f[hh][0]][f[hh][1]][0]=1;
    while(hh<=tt)
    {
        if(b[f[hh][0]][f[hh][1]][1]==1) 
        {
            tep1=b[f[hh][0]][f[hh][1]][0]-1,q=1,x1=f[hh][0],y1=f[hh][1];
            break;
        }
        for(i=1;i<=4;i++)
        {
            if(lsl(f[hh][0],f[hh][1]))
            {
                b[f[hh][0]+d[i-1][0]][f[hh][1]+d[i-1][1]][0]=b[f[hh][0]][f[hh][1]][0]+1,tt++,f[tt][0]=f[hh][0]+d[i-1][0],f[tt][1]=f[hh][1]+d[i-1][1];
            }
        }hh++;
    }
    if(q==0) printf(""-1"");
    else
    {
        hh=1,tt=1,f[hh][0]=x2,f[hh][1]=y2,b[f[hh][0]][f[hh][1]][2]=1;
    while(hh<=tt)
    {
        if(f[hh][0]==x1&&f[hh][1]==y1) 
        {
            tep2=b[f[hh][0]][f[hh][1]][2]-1,w=1;
            break;
        }
        for(i=1;i<=4;i++)
        {
            if(lsl2(f[hh][0],f[hh][1]))
            {
                b[f[hh][0]+d[i-1][0]][f[hh][1]+d[i-1][1]][2]=b[f[hh][0]][f[hh][1]][2]+1,tt++,f[tt][0]=f[hh][0]+d[i-1][0],f[tt][1]=f[hh][1]+d[i-1][1];
            }
        }hh++;
    }
        printf(""%d"",tep1+tep2);
    }
}"
6,C,C(gcc 7.5.0),54855026,2022-11-18 21:50:54,lsl666,答案错误,"#include<stdio.h>
int b[1001][1001][3],n,m,tep1=0,tep2=0,x,y,x0,y0,i,j,x1,y1,x2,y2,r1,r2,hh,tt,q=0,w=0,f[1000001][2],d[4][2]={{-1,0},{0,-1},{1,0},{0,1}};
char a[1001][1001];
int lsl(int xx,int yy)
{
    if(xx+d[i-1][0]<=0||xx+d[i-1][0]>n) return 0;
    else if(yy+d[i-1][1]<=0||yy+d[i-1][1]>m) return 0;
    else if(b[xx+d[i-1][0]][yy+d[i-1][1]][0]!=0) return 0;
    else if(a[xx+d[i-1][0]][yy+d[i-1][1]]=='*') return 0;
    else if(abs(xx+d[i-1][0]-x1)+abs(yy+d[i-1][1]-y1)>r1) return 0;
    else return 1;
}
int lsl2(int xx,int yy)
{
    if(xx+d[i-1][0]<=0||xx+d[i-1][0]>n) return 0;
    else if(yy+d[i-1][1]<=0||yy+d[i-1][1]>m) return 0;
    else if(b[xx+d[i-1][0]][yy+d[i-1][1]][2]!=0) return 0;
    else if(a[xx+d[i-1][0]][yy+d[i-1][1]]=='*') return 0;
    else return 1;
}
int main()
{
    
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    getchar();
    for(i=1;i<=n;i++)
    {
        for(j=1;j<=m;j++)
        {
            scanf(""%c"",&a[i][j]);
            if(a[i][j]=='M') x2=i,y2=j;
            if(a[i][j]=='P') x1=i,y1=j;
        }getchar();
    }
    x0=x2-r2,x=x2+r2,y0=y2-r2,y=y2+r2;
    if(x2-r2<1) x0=1;
    if(x2+r2>n) x=n;
    if(y2-r2<1) y0=1;
    if(y2+r2>m) y=m;
    for(i=x0;i<=x;i++)
    {
        for(j=y0;j<=y;j++)
        {
            if(abs(i-x2)+abs(j-y2)<=r2) b[i][j][1]=1;
        }
    }
    hh=1,tt=1,f[hh][0]=x1,f[hh][1]=y1,b[f[hh][0]][f[hh][1]][0]=1;
    while(hh<=tt)
    {
        if(b[f[hh][0]][f[hh][1]][1]==1) 
        {
            tep1=b[f[hh][0]][f[hh][1]][0]-1,q=1,x1=f[hh][0],y1=f[hh][1];
            break;
        }
        for(i=1;i<=4;i++)
        {
            if(lsl(f[hh][0],f[hh][1]))
            {
                b[f[hh][0]+d[i-1][0]][f[hh][1]+d[i-1][1]][0]=b[f[hh][0]][f[hh][1]][0]+1,tt++,f[tt][0]=f[hh][0]+d[i-1][0],f[tt][1]=f[hh][1]+d[i-1][1];
            }
        }hh++;
    }
    if(q==0) printf(""-1"");
    else
    {
        hh=1,tt=1,f[hh][0]=x2,f[hh][1]=y2,b[f[hh][0]][f[hh][1]][2]=1;
    while(hh<=tt)
    {
        if(f[hh][0]==x1&&f[hh][1]==y1) 
        {
            tep2=b[f[hh][0]][f[hh][1]][2]-1,w=1;
            break;
        }
        for(i=1;i<=4;i++)
        {
            if(lsl2(f[hh][0],f[hh][1]))
            {
                b[f[hh][0]+d[i-1][0]][f[hh][1]+d[i-1][1]][2]=b[f[hh][0]][f[hh][1]][2]+1,tt++,f[tt][0]=f[hh][0]+d[i-1][0],f[tt][1]=f[hh][1]+d[i-1][1];
            }
        }hh++;
    }
        printf(""%d"",tep1+tep2);
    }
}"
7,C,C(gcc 7.5.0),54855701,2022-11-18 21:57:44,lsl666,答案错误,"#include<stdio.h>
int b[1001][1001][3],n,m,tep1=0,tep2=0,x,y,x0,y0,i,j,x1,y1,x2,y2,r1,r2,hh,tt,q=0,w=0,f[1000001][2],d[4][2]={{-1,0},{0,-1},{1,0},{0,1}};
char a[1001][1001];
int lsl(int xx,int yy)
{
    if(xx+d[i-1][0]<=0||xx+d[i-1][0]>n) return 0;
    else if(yy+d[i-1][1]<=0||yy+d[i-1][1]>m) return 0;
    else if(b[xx+d[i-1][0]][yy+d[i-1][1]][0]!=0) return 0;
    else if(a[xx+d[i-1][0]][yy+d[i-1][1]]=='*') return 0;
    else if(abs(xx+d[i-1][0]-x1)+abs(yy+d[i-1][1]-y1)>r1) return 0;
    else return 1;
}
int lsl2(int xx,int yy)
{
    if(xx+d[i-1][0]<=0||xx+d[i-1][0]>n) return 0;
    else if(yy+d[i-1][1]<=0||yy+d[i-1][1]>m) return 0;
    else if(b[xx+d[i-1][0]][yy+d[i-1][1]][2]!=0) return 0;
    else if(a[xx+d[i-1][0]][yy+d[i-1][1]]=='*') return 0;
    else return 1;
}
int main()
{
    
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    getchar();
    for(i=1;i<=n;i++)
    {
        for(j=1;j<=m;j++)
        {
            scanf(""%c"",&a[i][j]);
            if(a[i][j]=='M') x2=i,y2=j;
            if(a[i][j]=='P') x1=i,y1=j;
        }getchar();
    }
    
    for(i=1;i<=n;i++)
    {
        for(j=1;j<=m;j++)
        {
            if(abs(i-x2)+abs(j-y2)<=r2) b[i][j][1]=1;
        }
    }
    hh=1,tt=1,f[hh][0]=x1,f[hh][1]=y1,b[f[hh][0]][f[hh][1]][0]=1;
    while(hh<=tt)
    {
        if(b[f[hh][0]][f[hh][1]][1]==1) 
        {
            tep1=b[f[hh][0]][f[hh][1]][0]-1,q=1,x1=f[hh][0],y1=f[hh][1];
            break;
        }
        for(i=1;i<=4;i++)
        {
            if(lsl(f[hh][0],f[hh][1]))
            {
                b[f[hh][0]+d[i-1][0]][f[hh][1]+d[i-1][1]][0]=b[f[hh][0]][f[hh][1]][0]+1,tt++,f[tt][0]=f[hh][0]+d[i-1][0],f[tt][1]=f[hh][1]+d[i-1][1];
            }
        }hh++;
    }
    if(q==0) printf(""-1"");
    else
    {
        hh=1,tt=1,f[hh][0]=x2,f[hh][1]=y2,b[f[hh][0]][f[hh][1]][2]=1;
    while(hh<=tt)
    {
        if(f[hh][0]==x1&&f[hh][1]==y1) 
        {
            tep2=b[f[hh][0]][f[hh][1]][2]-1,w=1;
            break;
        }
        for(i=1;i<=4;i++)
        {
            if(lsl2(f[hh][0],f[hh][1]))
            {
                b[f[hh][0]+d[i-1][0]][f[hh][1]+d[i-1][1]][2]=b[f[hh][0]][f[hh][1]][2]+1,tt++,f[tt][0]=f[hh][0]+d[i-1][0],f[tt][1]=f[hh][1]+d[i-1][1];
            }
        }hh++;
    }
        printf(""%d"",tep1+tep2);
    }
}"
8,C,C(gcc 7.5.0),54856101,2022-11-18 22:02:06,lsl666,答案错误,"#include<stdio.h>
int b[1001][1001][3],n,m,tep1=0,tep2=0,x,y,x0,y0,i,j,x1,y1,x2,y2,r1,r2,hh,tt,q=0,w=0,f[1000001][2],d[4][2]={{-1,0},{0,-1},{1,0},{0,1}};
char a[1001][1001];
int lsl(int xx,int yy)
{
    if(xx+d[i-1][0]<=0||xx+d[i-1][0]>n) return 0;
    else if(yy+d[i-1][1]<=0||yy+d[i-1][1]>m) return 0;
    else if(b[xx+d[i-1][0]][yy+d[i-1][1]][0]!=0) return 0;
    else if(a[xx+d[i-1][0]][yy+d[i-1][1]]=='*') return 0;
    else if(abs(xx+d[i-1][0]-x1)+abs(yy+d[i-1][1]-y1)>r1) return 0;
    else return 1;
}
int lsl2(int xx,int yy)
{
    if(xx+d[i-1][0]<=0||xx+d[i-1][0]>n) return 0;
    else if(yy+d[i-1][1]<=0||yy+d[i-1][1]>m) return 0;
    else if(b[xx+d[i-1][0]][yy+d[i-1][1]][2]!=0) return 0;
    else if(a[xx+d[i-1][0]][yy+d[i-1][1]]=='*') return 0;
    else return 1;
}
int main()
{
    
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    getchar();
    for(i=1;i<=n;i++)
    {
        for(j=1;j<=m;j++)
        {
            scanf(""%c"",&a[i][j]);
            if(a[i][j]=='M') x2=i,y2=j;
            if(a[i][j]=='P') x1=i,y1=j;
        }getchar();
    }
    
    for(i=1;i<=n;i++)
    {
        for(j=1;j<=m;j++)
        {
            if(abs(i-x2)+abs(j-y2)<=r2) b[i][j][1]=1;
        }
    }
    hh=1,tt=1,f[hh][0]=x1,f[hh][1]=y1,b[f[hh][0]][f[hh][1]][0]=1;
    while(hh<=tt)
    {
        if(b[f[hh][0]][f[hh][1]][1]==1) 
        {
            tep1=b[f[hh][0]][f[hh][1]][0]-1,q=1,x1=f[hh][0],y1=f[hh][1];
            break;
        }
        for(i=1;i<=4;i++)
        {
            if(lsl(f[hh][0],f[hh][1]))
            {
                b[f[hh][0]+d[i-1][0]][f[hh][1]+d[i-1][1]][0]=b[f[hh][0]][f[hh][1]][0]+1,tt++,f[tt][0]=f[hh][0]+d[i-1][0],f[tt][1]=f[hh][1]+d[i-1][1];
            }
        }hh++;
    }
    if(q==0) printf(""-1"");
    else
    {
        hh=1,tt=1,f[hh][0]=x2,f[hh][1]=y2,b[f[hh][0]][f[hh][1]][2]=1;
    while(hh<=tt)
    {
        if(f[hh][0]==x1&&f[hh][1]==y1) 
        {
            tep2=b[f[hh][0]][f[hh][1]][2]-1,w=1;
            break;
        }
        for(i=1;i<=4;i++)
        {
            if(lsl2(f[hh][0],f[hh][1]))
            {
                b[f[hh][0]+d[i-1][0]][f[hh][1]+d[i-1][1]][2]=b[f[hh][0]][f[hh][1]][2]+1,tt++,f[tt][0]=f[hh][0]+d[i-1][0],f[tt][1]=f[hh][1]+d[i-1][1];
            }
        }hh++;
    }
        if(w==0) printf(""-1"");
        else printf(""%d"",tep1+tep2);
    }
}"
9,C,C(gcc 7.5.0),54856505,2022-11-18 22:13:16,lsl666,答案正确,"#include<stdio.h>
int b[1001][1001][3],n,m,tep1=0,tep2=0,x,y,x0,y0,i,j,x1,y1,x2,y2,r1,r2,hh,tt,q=0,w=0,f[1000001][2],d[4][2]={{-1,0},{0,-1},{1,0},{0,1}};
char a[1001][1001];
int lsl(int xx,int yy)
{
    if(xx+d[i-1][0]<=0||xx+d[i-1][0]>n) return 0;
    else if(yy+d[i-1][1]<=0||yy+d[i-1][1]>m) return 0;
    else if(b[xx+d[i-1][0]][yy+d[i-1][1]][0]!=0) return 0;
    else if(a[xx+d[i-1][0]][yy+d[i-1][1]]=='*') return 0;
    else if(abs(xx+d[i-1][0]-x1)+abs(yy+d[i-1][1]-y1)>r1) return 0;
    else return 1;
}
int lsl2(int xx,int yy)
{
    if(xx+d[i-1][0]<=0||xx+d[i-1][0]>n) return 0;
    else if(yy+d[i-1][1]<=0||yy+d[i-1][1]>m) return 0;
    else if(b[xx+d[i-1][0]][yy+d[i-1][1]][2]!=0) return 0;
    else if(a[xx+d[i-1][0]][yy+d[i-1][1]]=='*') return 0;
    else return 1;
}
int main()
{
    
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    getchar();
    for(i=1;i<=n;i++)
    {
        for(j=1;j<=m;j++)
        {
            scanf(""%c"",&a[i][j]);
            if(a[i][j]=='M') x2=i,y2=j;
            if(a[i][j]=='P') x1=i,y1=j;
        }getchar();
    }
    
    for(i=1;i<=n;i++)
    {
        for(j=1;j<=m;j++)
        {
            if(abs(i-x2)+abs(j-y2)<=r2) b[i][j][1]=1;
        }
    }
    hh=1,tt=1,f[hh][0]=x1,f[hh][1]=y1,b[f[hh][0]][f[hh][1]][0]=1;
    while(hh<=tt)
    {
        if(b[f[hh][0]][f[hh][1]][1]==1) 
        {
            tep1=b[f[hh][0]][f[hh][1]][0]-1,q=1;
            break;
        }
        for(i=1;i<=4;i++)
        {
            if(lsl(f[hh][0],f[hh][1]))
            {
                b[f[hh][0]+d[i-1][0]][f[hh][1]+d[i-1][1]][0]=b[f[hh][0]][f[hh][1]][0]+1,tt++,f[tt][0]=f[hh][0]+d[i-1][0],f[tt][1]=f[hh][1]+d[i-1][1];
            }
        }hh++;
    }
    if(q==0) printf(""-1"");
    else
    {
        hh=1,tt=1,f[hh][0]=x2,f[hh][1]=y2,b[f[hh][0]][f[hh][1]][2]=1;
    while(hh<=tt)
    {
        if(f[hh][0]==x1&&f[hh][1]==y1) 
        {
            tep2=b[f[hh][0]][f[hh][1]][2]-1,w=1;
            break;
        }
        for(i=1;i<=4;i++)
        {
            if(lsl2(f[hh][0],f[hh][1]))
            {
                b[f[hh][0]+d[i-1][0]][f[hh][1]+d[i-1][1]][2]=b[f[hh][0]][f[hh][1]][2]+1,tt++,f[tt][0]=f[hh][0]+d[i-1][0],f[tt][1]=f[hh][1]+d[i-1][1];
            }
        }hh++;
    }
        if(w==0) printf(""-1"");
        else printf(""%d"",tep2);
    }
}"
10,C,C(gcc 7.5.0),54955371,2022-11-23 22:00:34,风情万种的盛,编译错误,"{""SPECIAL_TM_FH_MEMO_JSON_TAG"":""SPECIAL_TM_FH_MEMO_JSON_TAG"",""stderr"":""main.c:1:10: fatal error: bits/stdc++.h: No such file or directory\n #include <bits/stdc++.h>\n          ^~~~~~~~~~~~~~~\ncompilation terminated.""}

#include <bits/stdc++.h>
using namespace std;
char Map[200][200];  //定义地图大小
int dir[4][2]= {1,0,-1,0,0,-1,0,1};  //定义方向
int n,m,ans,a,b,c,d,r1,r2;
struct node
{
    int x,y,step;

} now,nextt,nexttt,noww;  //保存走步
int BFS(int x,int y)
{
    queue<node>q;
    int xx,yy;
    Map[x][y]='*';  //走过初始点
    now.x=x;
    now.y=y;
    now.step=0;
    q.push(now);  //从当前点开始
    while(!q.empty())
    {
        now=q.front();
        q.pop();
        for(int i=0;i<4;i++)  //遍历四个方向
        {
            xx=now.x+dir[i][0];
            yy=now.y+dir[i][1];  //走一步
            if(xx>=0&&xx<n&&yy>=0&&yy<m&&Map[xx][yy]!='*')  //可以走
            {
                nextt.x=xx;
                nextt.y=yy;
                nextt.step=now.step+1;  //步数加一
                if(fabs(nextt.x-c)+fabs(nextt.y-d)<=r2){
                	Map[xx][yy]='P';
                	return nextt.step;
				}
                if(nextt.step>=r1 &&fabs(nextt.x-c)+fabs(nextt.y-d)>r2){
                	return 0;
				}
                Map[now.x][now.y]='*';   //走过一个点
                q.push(nextt);
            }
        }
    }
}
int BFS2(int x,int y)
{
    queue<node>qq;
    int xx=0,yy=0;
    Map[x][y]='*';  //走过初始点
    noww.x=x;
    noww.y=y;
    noww.step=0;
    nexttt.step=0;
    qq.push(noww);  //从当前点开始
    while(!qq.empty())
    {
        noww=qq.front();
        qq.pop();
        for(int i=0;i<4;i++)  //遍历四个方向
        {
            xx=noww.x+dir[i][0];
            yy=noww.y+dir[i][1];  //走一步
            if(xx>=0&&xx<n&&yy>=0&&yy<m&&Map[xx][yy]!='*')  //可以走
            {
                nexttt.x=xx;
                nexttt.y=yy;
                nexttt.step=noww.step+1;  //步数加一
                if(Map[xx][yy]=='P'){
                return nexttt.step;
				}
                Map[noww.x][noww.y]='*';   //走过一个点
                qq.push(nexttt);
            }
        }
    }
    return -1;
}

int main()
{	
	cin>>n>>m;
	cin>>r1>>r2;
    for(int i=0;i<n;i++) {
		for(int j=0;j<m;j++){
            cin>>Map[i][j];
            if(Map[i][j]=='P'){
            	a=i;
            	b=j;
			}
			if(Map[i][j]=='M'){
            	c=i;
            	d=j;
			}
        }
    }
    cout<<BFS(a,b)+BFS2(c,d)<<endl;
    return 0;
}

"
11,C,C,55037051,2022-11-28 21:40:42,半夏丿,运行超时,"#include <stdio.h>
#include <stdlib.h>
int main()
{
    int m,n,r1,r2;
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    char s[n][m+1];
    char blank[10];
    int i;
    for(i=0;i<=n-1;i++)
    {
    	scanf(""%3s"",&s[i]);
        gets(blank);
	}
	int x1,y1,x2,y2,x,y,flag1=0,flag2=0;
	char* p=&s[0][0];
	for(y=0;y<=n-1;y++)
	{
		for(x=0;x<=m-1;x++)
		{
			if(*p=='P')
			{
				x1=x;
				y1=y;
				flag1=1;
			}
			if(*p=='M')
			{
				x2=x;
				y2=y;
				flag2=1;
			}
			p++;
		}
		p++;
		if(flag1==1&&flag2==1)
			break;
	}
	int dis=(x1-x2>=0?x1-x2:x2-x1)+(y1-y2>=0?y1-y2:y2-y1);
	int next[4][2]={0,1,
					1,0,
					0,-1,
					-1,0};
	int k,sum1=0;
	//P->M
	while(dis>r2)
	{
		for(k=0;k<=3;k++)
		{
			int ty=y1+next[k][0];
			int tx=x1+next[k][1];
			int tdis=(tx-x2>=0?tx-x2:x2-tx)+(ty-y2>=0?ty-y2:y2-ty);
			if(tdis<=dis&&s[ty][tx]!='*')
			{
				y1=ty;
				x1=tx;
				dis=tdis; 
				sum1++;
				break;
			}
		}
	}
	int sum2=0;
	int flag3=0;
	while(r1>0)
	{
		for(k=0;k<=3;k++)
		{
			int ty=y2+next[k][0];
			int tx=x2+next[k][1];
			int tdis=(x1-tx>=0?x1-tx:tx-x1)+(y1-ty>=0?y1-ty:ty-y1);
			if(tdis<=dis&&s[ty][tx]!='*')
			{
				y2=ty;
				x2=tx;
				dis=tdis; 
				sum2++;
				r1--;
				break;
			}
		}
		if(x1==x2&&y1==y2)
		{
			flag3=1;
			break;
		}	
	}
	if(flag3==0)
		printf(""%d\n"",flag3);
	else if(flag3==1)
		printf(""%d\n"",sum1+sum2);
    return 0;
}"
12,C,C,55037561,2022-11-28 22:21:26,半夏丿,运行超时,"#include <stdio.h>
#include <stdlib.h>
int main()
{
    int m,n,r1,r2;
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    char s[n][m+1];
    char blank[10];
    int i;
    for(i=0;i<=n-1;i++)
    {
    	scanf(""%3s"",&s[i]);
        gets(blank);
	}
	int x1,y1,x2,y2,x,y,flag1=0,flag2=0;
	char* p=&s[0][0];
	for(y=0;y<=n-1;y++)
	{
		for(x=0;x<=m-1;x++)
		{
			if(*p=='P')
			{
				x1=x;
				y1=y;
				flag1=1;
			}
			if(*p=='M')
			{
				x2=x;
				y2=y;
				flag2=1;
			}
			p++;
		}
		p++;
		if(flag1==1&&flag2==1)
			break;
	}
	int dis=(x1-x2>=0?x1-x2:x2-x1)+(y1-y2>=0?y1-y2:y2-y1);
	int next[4][2]={0,1,
					1,0,
					0,-1,
					-1,0};
	int k,sum1=0;
	//P->M
	while(dis>r2)
	{
		for(k=0;k<=3;k++)
		{
			int ty=y1+next[k][0];
			int tx=x1+next[k][1];
			int tdis=(tx-x2>=0?tx-x2:x2-tx)+(ty-y2>=0?ty-y2:y2-ty);
			if(tdis<=dis&&s[ty][tx]!='*')
			{
				y1=ty;
				x1=tx;
				dis=tdis; 
				sum1++;
				break;
			}
		}
	}
	int sum2=0;
	int flag3=0;
	while(r1>0)
	{
		for(k=0;k<=3;k++)
		{
			int ty=y2+next[k][0];
			int tx=x2+next[k][1];
			int tdis=(x1-tx>=0?x1-tx:tx-x1)+(y1-ty>=0?y1-ty:ty-y1);
			if(tdis<=dis&&s[ty][tx]!='*')
			{
				y2=ty;
				x2=tx;
				dis=tdis; 
				sum2++;
				r1--;
				break;
			}
		}
		if(x1==x2&&y1==y2)
		{
			flag3=1;
			break;
		}	
	}
	if(flag3==0)
		printf(""%d\n"",flag3);
	else if(flag3==1)
		printf(""%d\n"",sum1+sum2);
    return 0;
}"
13,C,C,55037680,2022-11-28 22:32:55,半夏丿,运行超时,"#include <stdio.h>
#include <stdlib.h>
int main()
{
    int m,n,r1,r2;
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    char s[n][m+1];
    
    int i;
    for(i=0;i<=n-1;i++)
    {
    	scanf(""%3s"",&s[i]);
        
	}
	int x1,y1,x2,y2,x,y,flag1=0,flag2=0;
	char* p=&s[0][0];
	for(y=0;y<=n-1;y++)
	{
		for(x=0;x<=m-1;x++)
		{
			if(*p=='P')
			{
				x1=x;
				y1=y;
				flag1=1;
			}
			if(*p=='M')
			{
				x2=x;
				y2=y;
				flag2=1;
			}
			p++;
		}
		p++;
		if(flag1==1&&flag2==1)
			break;
	}
	int dis=(x1-x2>=0?x1-x2:x2-x1)+(y1-y2>=0?y1-y2:y2-y1);
	int next[4][2]={0,1,
					1,0,
					0,-1,
					-1,0};
	int k,sum1=0;
	//P->M
	while(dis>r2)
	{
		for(k=0;k<=3;k++)
		{
			int ty=y1+next[k][0];
			int tx=x1+next[k][1];
			int tdis=(tx-x2>=0?tx-x2:x2-tx)+(ty-y2>=0?ty-y2:y2-ty);
			if(tdis<=dis&&s[ty][tx]!='*')
			{
				y1=ty;
				x1=tx;
				dis=tdis; 
				sum1++;
				break;
			}
		}
	}
	int sum2=0;
	int flag3=0;
	while(r1>0)
	{
		for(k=0;k<=3;k++)
		{
			int ty=y2+next[k][0];
			int tx=x2+next[k][1];
			int tdis=(x1-tx>=0?x1-tx:tx-x1)+(y1-ty>=0?y1-ty:ty-y1);
			if(tdis<=dis&&s[ty][tx]!='*')
			{
				y2=ty;
				x2=tx;
				dis=tdis; 
				sum2++;
				r1--;
				break;
			}
		}
		if(x1==x2&&y1==y2)
		{
			flag3=1;
			break;
		}	
	}
	if(flag3==0)
		printf(""%d\n"",flag3);
	else if(flag3==1)
		printf(""%d\n"",sum1+sum2);
    return 0;
}"
14,C,C,55038684,2022-11-29 08:03:53,半夏丿,运行超时,"#include <stdio.h>
#include <stdlib.h>
int main()
{
    int m,n,r1,r2;
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    char s[n][m+1];
    char blank[10];
    int i;
    for(i=0;i<=n-1;i++)
    {
    	scanf(""%3s"",&s[i]);
        gets(blank);
	}
	int x1,y1,x2,y2,x,y,flag1=0,flag2=0;
	char* p=&s[0][0];
	for(y=0;y<=n-1;y++)
	{
		for(x=0;x<=m-1;x++)
		{
			if(*p=='P')
			{
				x1=x;
				y1=y;
				flag1=1;
			}
			if(*p=='M')
			{
				x2=x;
				y2=y;
				flag2=1;
			}
			p++;
		}
		p++;
		if(flag1==1&&flag2==1)
			break;
	}
	int dis=(x1-x2>=0?x1-x2:x2-x1)+(y1-y2>=0?y1-y2:y2-y1);
	int next[4][2]={0,1,
					1,0,
					0,-1,
					-1,0};
	int k,sum1=0;
	//P->M
	while(dis>r2)
	{
		for(k=0;k<=3;k++)
		{
			int ty=y1+next[k][0];
			int tx=x1+next[k][1];
			int tdis=(tx-x2>=0?tx-x2:x2-tx)+(ty-y2>=0?ty-y2:y2-ty);
			if(tdis<=dis&&s[ty][tx]!='*')
			{
				y1=ty;
				x1=tx;
				dis=tdis; 
				sum1++;
				break;
			}
		}
	}
	int sum2=0;
	int flag3=0;
	while(r1>0)
	{
		for(k=0;k<=3;k++)
		{
			int ty=y2+next[k][0];
			int tx=x2+next[k][1];
			int tdis=(x1-tx>=0?x1-tx:tx-x1)+(y1-ty>=0?y1-ty:ty-y1);
			if(tdis<=dis&&s[ty][tx]!='*')
			{
				y2=ty;
				x2=tx;
				dis=tdis; 
				sum2++;
				r1--;
				break;
			}
		}
		if(x1==x2&&y1==y2)
		{
			flag3=1;
			break;
		}	
	}
	if(flag3==0)
		printf(""%d\n"",flag3);
	else if(flag3==1)
		printf(""%d\n"",sum1+sum2);
    return 0;
}"
15,C,C,55038976,2022-11-29 09:51:06,半夏丿,运行超时,"#include <stdio.h>
#include <stdlib.h>
struct {
	int y;
	int x;
	int sum2;
}line[15];
int main()
{
    int m,n,r1,r2;
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    char s[n][m+1];
    char blank[10];
    int i,j;
    for(i=0;i<=n-1;i++)
    {
    	scanf(""%3s"",&s[i]);
        gets(blank);
	}
	int x1,y1,x2,y2,x,y,flag1=0,flag2=0;
	char* p=&s[0][0];
	for(y=0;y<=n-1;y++)
	{
		for(x=0;x<=m-1;x++)
		{
			if(*p=='P')
			{
				x1=x;
				y1=y;
				flag1=1;
			}
			if(*p=='M')
			{
				x2=x;
				y2=y;
				flag2=1;
			}
			p++;
		}
		p++;
		if(flag1==1&&flag2==1)
			break;
	}
	int dis=(x1-x2>=0?x1-x2:x2-x1)+(y1-y2>=0?y1-y2:y2-y1);
	int next[4][2]={0,1,
					1,0,
					0,-1,
					-1,0};
	int k,sum1=0;
	while(dis>r2&&r1>0)
	{
		int temp=sum1;
		for(k=0;k<=3;k++)
		{
			int ty=y1+next[k][0];
			int tx=x1+next[k][1];
			int tdis=(tx-x2>=0?tx-x2:x2-tx)+(ty-y2>=0?ty-y2:y2-ty);
			if(tdis<=dis&&s[ty][tx]!='*')
			{
				y1=ty;
				x1=tx;
				dis=tdis; 
				sum1++;
				r1--;
			}
		}
		if(temp==sum1)
		{
			printf(""%d"",-1);
			return 0;
		}
	}
	int sum2=0;
	int flag3=0;
	//广度
	int head=0,tail=0;
	int book[n][m];
	for(i=0;i<=n-1;i++)
		for(j=0;j<=m-1;j++)
			book[i][j]=0;
	line[tail].y=y2;line[tail].x=x2;line[tail].sum2=0;
	book[line[tail].y][line[tail].x]=1;
	tail++;
	while(head<tail)
	{
		if(line[head].y==y1&&line[head].x==x1)
		{
			printf(""%d\n"",sum1+line[head].sum2);
			flag3=1;
			break;
		}
		for(k=0;k<=3;k++)
		{
			int ty=line[head].y+next[k][0];
			int tx=line[head].x+next[k][1];
			if(s[ty][tx]!='*'&&book[ty][tx]==0&&ty<=n-1&&ty>=0&&tx<=m-1&&tx>=0)
			{
				line[tail].y=ty;line[tail].x=tx;
				book[ty][tx]=1;
				line[tail].sum2=line[head].sum2+1;
				tail++;
			}
		}
		head++;
		if(flag3==1)
			break;
	}
	if(flag3==0)
		printf(""%d"",-1);
    return 0;
}"
16,C,C,55038989,2022-11-29 09:53:03,半夏丿,段错误,"#include <stdio.h>
#include <stdlib.h>
struct {
	int y;
	int x;
	int sum2;
}line[15];
int main()
{
    int m,n,r1,r2;
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    char s[n][m+1];
    char blank[10];
    int i,j;
    for(i=0;i<=n-1;i++)
    {
    	scanf(""%3s"",&s[i]);
        gets(blank);
	}
	int x1,y1,x2,y2,x,y,flag1=0,flag2=0;
	char* p=&s[0][0];
	for(y=0;y<=n-1;y++)
	{
		for(x=0;x<=m-1;x++)
		{
			if(*p=='P')
			{
				x1=x;
				y1=y;
				flag1=1;
			}
			if(*p=='M')
			{
				x2=x;
				y2=y;
				flag2=1;
			}
			p++;
		}
		p++;
		if(flag1==1&&flag2==1)
			break;
	}
	int dis=(x1-x2>=0?x1-x2:x2-x1)+(y1-y2>=0?y1-y2:y2-y1);
	int next[4][2]={0,1,
					1,0,
					0,-1,
					-1,0};
	int k,sum1=0;
	while(dis>r2&&r1>0)
	{
		int temp=sum1;
		for(k=0;k<=3;k++)
		{
			int ty=y1+next[k][0];
			int tx=x1+next[k][1];
			int tdis=(tx-x2>=0?tx-x2:x2-tx)+(ty-y2>=0?ty-y2:y2-ty);
			if(tdis<=dis&&s[ty][tx]!='*')
			{
				y1=ty;
				x1=tx;
				dis=tdis; 
				sum1++;
				r1--;
			}
		}
		if(temp==sum1)
		{
			printf(""%d"",-1);
			return 0;
		}
	}
	int sum2=0;
	int flag3=0;
	//广度
	int head=0,tail=0;
	int book[n][m];
	for(i=0;i<=n-1;i++)
		for(j=0;j<=m-1;j++)
			book[i][j]=0;
	line[tail].y=y2;line[tail].x=x2;line[tail].sum2=0;
	book[line[tail].y][line[tail].x]=1;
	tail++;
	while(head<tail)
	{
		if(line[head].y==y1&&line[head].x==x1)
		{
			printf(""%d\n"",sum1+line[head].sum2);
			flag3=1;
			break;
		}
		for(k=0;k<=3;k++)
		{
			int ty=line[head].y+next[k][0];
			int tx=line[head].x+next[k][1];
			if(s[ty][tx]!='*'&&book[ty][tx]==0&&ty<=n-1&&ty>=0&&tx<=m-1&&tx>=0)
			{
				line[tail].y=ty;line[tail].x=tx;
				book[ty][tx]=1;
				line[tail].sum2=line[head].sum2+1;
				tail++;
			}
		}
		head++;
		if(flag3==1)
			break;
	}
	if(flag3==0)
		printf(""%d"",-1);
    return 0;
}"
17,C,C,55039003,2022-11-29 09:55:26,半夏丿,编译错误,"{""SPECIAL_TM_FH_MEMO_JSON_TAG"":""SPECIAL_TM_FH_MEMO_JSON_TAG"",""stderr"":""main.c:18:18: warning: format specifies type 'char *' but the argument has type 'char (*)[m + 1]' [-Wformat]\n        scanf(\""%3s\"",&s[i]);\n               ~~~  ^~~~~\nmain.c:19:9: warning: 'gets' is deprecated [-Wdeprecated-declarations]\n        gets(blank);\n        ^\n/usr/include/stdio.h:577:37: note: 'gets' has been explicitly marked deprecated here\nextern char *gets (char *__s) __wur __attribute_deprecated__;\n                                    ^\n/usr/include/x86_64-linux-gnu/sys/cdefs.h:246:51: note: expanded from macro '__attribute_deprecated__'\n# define __attribute_deprecated__ __attribute__ ((__deprecated__))\n                                                  ^\nmain.c:46:18: warning: suggest braces around initialization of subobject [-Wmissing-braces]\n        int next[4][2]={0,1,\n                        ^~~\n                        {  }\nmain.c:47:6: warning: suggest braces around initialization of subobject [-Wmissing-braces]\n                                        1,0,\n                                        ^~~\n                                        {  }\nmain.c:48:6: warning: suggest braces around initialization of subobject [-Wmissing-braces]\n                                        0,-1,\n                                        ^~~~\n                                        {   }\nmain.c:49:6: warning: suggest braces around initialization of subobject [-Wmissing-braces]\n                                        -1,0};\n                                        ^~~~\n                                        {   }\nmain.c:72:10: error: use of undeclared identifier 'ty'\n                                if(s[ty][tx]!='*')\n                                     ^\nmain.c:72:14: error: use of undeclared identifier 'tx'\n                                if(s[ty][tx]!='*')\n                                         ^\nmain.c:74:9: error: use of undeclared identifier 'ty'\n                                        y1=ty;\n                                           ^\nmain.c:75:9: error: use of undeclared identifier 'tx'\n                                        x1=tx;\n                                           ^\nmain.c:76:10: error: use of undeclared identifier 'tdis'\n                                        dis=tdis; \n                                            ^\n6 warnings and 5 errors generated.""}

#include <stdio.h>
#include <stdlib.h>
struct {
	int y;
	int x;
	int sum2;
}line[15];
int main()
{
    int m,n,r1,r2;
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    char s[n][m+1];
    char blank[10];
    int i,j;
    for(i=0;i<=n-1;i++)
    {
    	scanf(""%3s"",&s[i]);
        gets(blank);
	}
	int x1,y1,x2,y2,x,y,flag1=0,flag2=0;
	char* p=&s[0][0];
	for(y=0;y<=n-1;y++)
	{
		for(x=0;x<=m-1;x++)
		{
			if(*p=='P')
			{
				x1=x;
				y1=y;
				flag1=1;
			}
			if(*p=='M')
			{
				x2=x;
				y2=y;
				flag2=1;
			}
			p++;
		}
		p++;
		if(flag1==1&&flag2==1)
			break;
	}
	int dis=(x1-x2>=0?x1-x2:x2-x1)+(y1-y2>=0?y1-y2:y2-y1);
	int next[4][2]={0,1,
					1,0,
					0,-1,
					-1,0};
	int k,sum1=0;
	while(dis>r2&&r1>0)
	{
		int temp=sum1;
		for(k=0;k<=3;k++)
		{
			int ty=y1+next[k][0];
			int tx=x1+next[k][1];
			int tdis=(tx-x2>=0?tx-x2:x2-tx)+(ty-y2>=0?ty-y2:y2-ty);
			if(tdis<=dis&&s[ty][tx]!='*')
			{
				y1=ty;
				x1=tx;
				dis=tdis; 
				sum1++;
				r1--;
			}
		}
		if(temp==sum1)
		{
			for(k=0;k<=3;k++)
			{
				if(s[ty][tx]!='*')
				{
					y1=ty;
					x1=tx;
					dis=tdis; 
					sum1++;
					r1--;
				}
			}
		}
	}
	int sum2=0;
	int flag3=0;
	//广度
	int head=0,tail=0;
	int book[n][m];
	for(i=0;i<=n-1;i++)
		for(j=0;j<=m-1;j++)
			book[i][j]=0;
	line[tail].y=y2;line[tail].x=x2;line[tail].sum2=0;
	book[line[tail].y][line[tail].x]=1;
	tail++;
	while(head<tail)
	{
		if(line[head].y==y1&&line[head].x==x1)
		{
			printf(""%d\n"",sum1+line[head].sum2);
			flag3=1;
			break;
		}
		for(k=0;k<=3;k++)
		{
			int ty=line[head].y+next[k][0];
			int tx=line[head].x+next[k][1];
			if(s[ty][tx]!='*'&&book[ty][tx]==0&&ty<=n-1&&ty>=0&&tx<=m-1&&tx>=0)
			{
				line[tail].y=ty;line[tail].x=tx;
				book[ty][tx]=1;
				line[tail].sum2=line[head].sum2+1;
				tail++;
			}
		}
		head++;
		if(flag3==1)
			break;
	}
	if(flag3==0)
		printf(""%d"",-1);
    return 0;
}"
18,C,C,55039008,2022-11-29 09:56:13,半夏丿,答案错误,"#include <stdio.h>
#include <stdlib.h>
struct {
	int y;
	int x;
	int sum2;
}line[15];
int main()
{
    int m,n,r1,r2;
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    char s[n][m+1];
    char blank[10];
    int i,j;
    for(i=0;i<=n-1;i++)
    {
    	scanf(""%3s"",&s[i]);
        gets(blank);
	}
	int x1,y1,x2,y2,x,y,flag1=0,flag2=0;
	char* p=&s[0][0];
	for(y=0;y<=n-1;y++)
	{
		for(x=0;x<=m-1;x++)
		{
			if(*p=='P')
			{
				x1=x;
				y1=y;
				flag1=1;
			}
			if(*p=='M')
			{
				x2=x;
				y2=y;
				flag2=1;
			}
			p++;
		}
		p++;
		if(flag1==1&&flag2==1)
			break;
	}
	int dis=(x1-x2>=0?x1-x2:x2-x1)+(y1-y2>=0?y1-y2:y2-y1);
	int next[4][2]={0,1,
					1,0,
					0,-1,
					-1,0};
	int k,sum1=0;
	while(dis>r2&&r1>0)
	{
		int temp=sum1;
		for(k=0;k<=3;k++)
		{
			int ty=y1+next[k][0];
			int tx=x1+next[k][1];
			int tdis=(tx-x2>=0?tx-x2:x2-tx)+(ty-y2>=0?ty-y2:y2-ty);
			if(tdis<=dis&&s[ty][tx]!='*')
			{
				y1=ty;
				x1=tx;
				dis=tdis; 
				sum1++;
				r1--;
			}
		}
		if(temp==sum1)
		{
			for(k=0;k<=3;k++)
			{
				int ty=y1+next[k][0];
				int tx=x1+next[k][1];
				int tdis=(tx-x2>=0?tx-x2:x2-tx)+(ty-y2>=0?ty-y2:y2-ty);
				if(s[ty][tx]!='*')
				{
					y1=ty;
					x1=tx;
					dis=tdis; 
					sum1++;
					r1--;
				}
			}
		}
	}
	int sum2=0;
	int flag3=0;
	//广度
	int head=0,tail=0;
	int book[n][m];
	for(i=0;i<=n-1;i++)
		for(j=0;j<=m-1;j++)
			book[i][j]=0;
	line[tail].y=y2;line[tail].x=x2;line[tail].sum2=0;
	book[line[tail].y][line[tail].x]=1;
	tail++;
	while(head<tail)
	{
		if(line[head].y==y1&&line[head].x==x1)
		{
			printf(""%d\n"",sum1+line[head].sum2);
			flag3=1;
			break;
		}
		for(k=0;k<=3;k++)
		{
			int ty=line[head].y+next[k][0];
			int tx=line[head].x+next[k][1];
			if(s[ty][tx]!='*'&&book[ty][tx]==0&&ty<=n-1&&ty>=0&&tx<=m-1&&tx>=0)
			{
				line[tail].y=ty;line[tail].x=tx;
				book[ty][tx]=1;
				line[tail].sum2=line[head].sum2+1;
				tail++;
			}
		}
		head++;
		if(flag3==1)
			break;
	}
	if(flag3==0)
		printf(""%d"",-1);
    return 0;
}"
19,C,C,55039044,2022-11-29 10:02:18,半夏丿,运行超时,"#include <stdio.h>
#include <stdlib.h>
struct {
	int y;
	int x;
	int sum2;
}line[15];
int main()
{
    int m,n,r1,r2;
    scanf(""%d%d"",&n,&m);
    scanf(""%d%d"",&r1,&r2);
    char s[n][m+1];
    char blank[10];
    int i,j;
    for(i=0;i<=n-1;i++)
    {
    	scanf(""%3s"",&s[i]);
        gets(blank);
	}
	int x1,y1,x2,y2,x,y,flag1=0,flag2=0;
	char* p=&s[0][0];
	for(y=0;y<=n-1;y++)
	{
		for(x=0;x<=m-1;x++)
		{
			if(*p=='P')
			{
				x1=x;
				y1=y;
				flag1=1;
			}
			if(*p=='M')
			{
				x2=x;
				y2=y;
				flag2=1;
			}
			p++;
		}
		p++;
		if(flag1==1&&flag2==1)
			break;
	}
	int dis=(x1-x2>=0?x1-x2:x2-x1)+(y1-y2>=0?y1-y2:y2-y1);
	int next[4][2]={0,1,
					1,0,
					0,-1,
					-1,0};
	int k,sum1=0;
	while(dis>r2&&r1>0)
	{
		int temp=sum1;
		for(k=0;k<=3;k++)
		{
			int ty=y1+next[k][0];
			int tx=x1+next[k][1];
			int tdis=(tx-x2>=0?tx-x2:x2-tx)+(ty-y2>=0?ty-y2:y2-ty);
			if(tdis<=dis&&s[ty][tx]!='*')
			{
				y1=ty;
				x1=tx;
				dis=tdis;
				sum1++;
				r1--;
			}
		}
		if(temp==sum1)
		{
			printf(""%d"",-1);
			return 0;
		}
	}
	int sum2=0;
	int flag3=0;
	int head=0,tail=0;
	int book[n][m];
	for(i=0;i<=n-1;i++)
		for(j=0;j<=m-1;j++)
			book[i][j]=0;
	line[tail].y=y2;line[tail].x=x2;line[tail].sum2=0;
	book[line[tail].y][line[tail].x]=1;
	tail++;
	while(head<tail)
	{
		if(line[head].y==y1&&line[head].x==x1)
		{
			printf(""%d\n"",sum1+line[head].sum2);
			flag3=1;
			break;
		}
		for(k=0;k<=3;k++)
		{
			int ty=line[head].y+next[k][0];
			int tx=line[head].x+next[k][1];
			if(s[ty][tx]!='*'&&book[ty][tx]==0&&ty<=n-1&&ty>=0&&tx<=m-1&&tx>=0)
			{
				line[tail].y=ty;line[tail].x=tx;
				book[ty][tx]=1;
				line[tail].sum2=line[head].sum2+1;
				tail++;
			}
		}
		head++;
		if(flag3==1)
			break;
	}
	if(flag3==0)
		printf(""%d"",-1);
    return 0;
}"
